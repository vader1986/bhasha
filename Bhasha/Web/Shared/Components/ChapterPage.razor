@using Bhasha.Domain.Pages
@inherits ComponentBase

<MudText Typo="Typo.h6">@Chapter.Name</MudText>
<MudText Typo="Typo.body2">@Chapter.Description</MudText>
<MudDivider Class="mt-3"/>
<MudProgressLinear Color="Color.Primary" Value="ChapterProgress" Class="my-7" />

<br/>
<MudText>@Page.Word.Text</MudText>
<MudText Typo="Typo.body2">(@Page.Word.Language)</MudText>
<br/>

@switch (Page)
{
    case DisplayedPage<MultipleChoice> page:
        <MultipleChoicePage 
            MultipleChoice="page.Arguments"
            @bind-Value="_selection" 
            @bind-Value:after="OnValueChanged" />
        break;

    default:
        <MudText>@Page.PageType is not supported</MudText>
        break;
}

<ChapterPageBar 
    ProfileKey="Value.Key"
    ExpressionId="@Page.Word.Expression.Id"
    Selection="@_selection"
    OnSubmit="@UpdateProfileAsync"/>