<MudStack Row="true">
    @foreach (var index in _tokens.Keys)
    {
        if (string.IsNullOrWhiteSpace(_tokens[index]))
            continue;

        if (_choices.TryGetValue(index, out var tokenValue))
        {
            if (_gaps.Contains(index))
            {
                <MudChip
                    T="int"
                    Value="@index"
                    CloseIcon="@Icons.Material.Filled.Close"
                    Text="@tokenValue"
                    OnClose="@UnChooseAsync"/>
            }
            else
            {
                <MudText>@tokenValue</MudText>
            }
        }
        else
        {
            <MudChip Value="@index" Text=" "/> 
        }
    }
</MudStack>

<MudChipSet T="int">
    @foreach (var index in _tokens.Keys)
    {
        if (string.IsNullOrWhiteSpace(_tokens[index]))
            continue;
        
        if (_choices.TryGetValue(index, out var tokenValue))
        {
            if (_gaps.Contains(index))
            {
                <MudChip
                    T="int"
                    Value="@index"
                    CloseIcon="@Icons.Material.Filled.Close"
                    Text="@tokenValue"
                    OnClose="@UnChooseAsync"/>
            }
            else
            {
                <MudChip Value="@index">@tokenValue</MudChip>
            }
        }
        else
        {
            <MudChip Value="@index">___</MudChip>
        }
    }
</MudChipSet>

<MudDivider Class="mt-3 my-3"/>

<MudChipSet T="int">
    @foreach (var index in _openTokens)
    {
        <MudChip
            T="int"
            Color="Color.Info"
            CloseIcon="@Icons.Material.Filled.Add"
            Value="@index"
            Text="@_tokens[index]"
            OnClose="@ChooseAsync"/>
    }
</MudChipSet>